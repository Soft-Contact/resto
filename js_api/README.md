<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [jsonApi][1]
    *   [placeOrder][2]
        *   [Parameters][3]
    *   [addToOpenTable][4]
        *   [Parameters][5]
    *   [getActiveTransaction][6]
        *   [Parameters][7]
    *   [executeLisp][8]
        *   [Parameters][9]
    *   [evalLisp][10]
        *   [Parameters][11]
*   [printer][12]
    *   [print][13]
        *   [Parameters][14]
        *   [Examples][15]
*   [payments][16]
    *   [authorizePayment][17]
        *   [Parameters][18]
    *   [abortAuthorization][19]
        *   [Parameters][20]
*   [articles][21]
    *   [listAll][22]
        *   [Parameters][23]
*   [displays][24]
    *   [listAllKitchenSystemTransactions][25]
        *   [Parameters][26]
    *   [removeTransactionFromKitchenSystem][27]
        *   [Parameters][28]
    *   [setLineStateInKitchenSystem][29]
        *   [Parameters][30]
    *   [getConfiguration][31]
        *   [Parameters][32]
    *   [saveCustomConfiguration][33]
        *   [Parameters][34]
    *   [saveWaitingTime][35]
        *   [Parameters][36]
    *   [getWaitingTime][37]
        *   [Parameters][38]
*   [messages][39]
    *   [listenAll][40]
        *   [Parameters][41]
        *   [Examples][42]
*   [utils][43]
    *   [getApiType][44]
    *   [getSoftPosVersion][45]
    *   [getSoftPosInfo][46]
        *   [Parameters][47]
    *   [log][48]
        *   [log][49]
            *   [Parameters][50]
            *   [Examples][51]
        *   [trace][52]
            *   [Parameters][53]
        *   [debug][54]
            *   [Parameters][55]
        *   [info][56]
            *   [Parameters][57]
        *   [warn][58]
            *   [Parameters][59]
        *   [error][60]
            *   [Parameters][61]
        *   [fatal][62]
            *   [Parameters][63]

## jsonApi

JSON API methods to control the SoftPoS CashRegister, see also [https://github.com/Soft-Contact/resto/issues/2#placeorder][64]

### placeOrder

Place order

#### Parameters

*   `order`  as a JSON object
*   `successCallback`  as a function for successful callback
*   `failureCallback`  as a function for failure callback

### addToOpenTable

addToOpenTable

#### Parameters

*   `openTable`  as a JSON object from [https://github.com/Soft-Contact/resto/issues/2#addtoopentable][65]
*   `successCallback`  as a function for successful callback
*   `failureCallback`  as a function for failure callback

### getActiveTransaction

get currently on cashregister screen active transaction

#### Parameters

*   `successCallback`  
*   `failureCallback`  

### executeLisp

Execute lisp macro on cashregister side

#### Parameters

*   `cmd`  lisp macro to execute
*   `successCallback`  
*   `failureCallback`  

**Meta**

*   **deprecated**: use evalLisp instead, kept some time for backwards compatibility

### evalLisp

Evaluate lisp macro on cashregister side

#### Parameters

*   `cmd`  lisp macro to evaluate
*   `successCallback`  
*   `failureCallback`  

## printer

JSON API methods to control the SoftPoS CashRegister printing

### print

Experimental: Print data to the printer

#### Parameters

*   `printData`  
*   `successCallback`  

#### Examples

```javascript
let printData =
{
lines: [

{ type: "TEXT", contents: "test string"},
{ type: "TEXT", contents: "text\non\nmultiple\nlines"},
{ type: "QR_CODE", contents: "sample code", alignment: "RIGHT"},
{ type: "BAR_CODE", contents: "1234567890123"},
{ type: "QR_CODE", contents: "another code"},
]
}
```

## payments

JSON API methods to control the SoftPoS CashRegister payment terminal

### authorizePayment

Experimental: Authorize payment on SoftPoS side using SoftPos configured payment device

#### Parameters

*   `payment`  
*   `successCallback`  
*   `failureCallback`  
*   `statusCallback`  

### abortAuthorization

Experimental: Abort currently active payment

#### Parameters

*   `successCallback`  

## articles

JSON API methods to get article and article group data

### listAll

Get all articles from SoftPos

#### Parameters

*   `successCallback`  
*   `errorCallback`  

## displays

API methods needed by various separate displays (KitchenDisplay, OrderDisplay).

### listAllKitchenSystemTransactions

Experimental: List all transactions based on jobOrderSystemId

#### Parameters

*   `jobOrderSystemId`  Job order system id from which to list transactions
*   `successCallback`  
*   `errorCallback`  

### removeTransactionFromKitchenSystem

Experimental: Remove transactions based on jobOrderSystemId and transactionUuid

#### Parameters

*   `jobOrderSystemId`  Job order system id from which to remove transaction
*   `transactionUuid`  transcation to remove
*   `successCallback`  
*   `errorCallback`  

### setLineStateInKitchenSystem

Experimental: Change transactionsline state

#### Parameters

*   `jobOrderSystemId`  Job order system id from which to remove transaction
*   `transactionUuid`  transcation to modify
*   `lineStateName`  Ordered, Ready, Prepared, Served, Deleted, Other
*   `successCallback`  
*   `errorCallback`  

### getConfiguration

Experimental: Get map of configuration parameters, including custom configuration

#### Parameters

*   `successCallback`  
*   `errorCallback`  

### saveCustomConfiguration

Experimental: Save custom configuration

#### Parameters

*   `conf`  custom configuration
*   `successCallback`  
*   `errorCallback`  

### saveWaitingTime

Save kitchen system waiting time in minutes

#### Parameters

*   `jobOrderSystemId`  
*   `waitingTime`  
*   `successCallback`  
*   `errorCallback`  

### getWaitingTime

Get kitchen system waiting time in minutes

#### Parameters

*   `jobOrderSystemId`  
*   `successCallback`  
*   `errorCallback`  

## messages

Methods related to messages from SoftPos

### listenAll

Experimental: Listen for all messages

#### Parameters

*   `listenCallbackFn`  callback fn where all SoftPoS side asynchronous messages are passed

#### Examples

```javascript
{ type: "COMMAND", data: "REFRESH_KITCHEN_DISPLAY"}
```

## utils

Utility methods

### getApiType

Gets the SoftPoS API type depending on which environment is used to run it

Returns **[string][66]** one of NONE/HTMLVIEW_LEGACY/HTMLVIEW_JCEF

### getSoftPosVersion

Gets the SoftPoS version

Returns **[string][66]** SoftPoS version

### getSoftPosInfo

Get the SoftPos info JSON

#### Parameters

*   `successCallback`  
*   `failureCallback`  

Returns **[json][67]** with fields "success" and "response", where response contains the SoftPosInfo object

### log

Utility methods for logging

#### log

##### Parameters

*   `logRecord`  

##### Examples

```javascript
window.softPos.log({level: 'INFO', msg:'Info message'});
```

#### trace

Log TRACE message

##### Parameters

*   `msg`  
*   `obj`  

#### debug

Log DEBUG message

##### Parameters

*   `msg`  
*   `obj`  

#### info

Log INFO message

##### Parameters

*   `msg`  
*   `obj`  

#### warn

Log WARN message

##### Parameters

*   `msg`  
*   `obj`  

#### error

Log ERROR message

##### Parameters

*   `msg`  
*   `obj`  

#### fatal

Log FATAL message

##### Parameters

*   `msg`  
*   `obj`  

[1]: #jsonapi

[2]: #placeorder

[3]: #parameters

[4]: #addtoopentable

[5]: #parameters-1

[6]: #getactivetransaction

[7]: #parameters-2

[8]: #executelisp

[9]: #parameters-3

[10]: #evallisp

[11]: #parameters-4

[12]: #printer

[13]: #print

[14]: #parameters-5

[15]: #examples

[16]: #payments

[17]: #authorizepayment

[18]: #parameters-6

[19]: #abortauthorization

[20]: #parameters-7

[21]: #articles

[22]: #listall

[23]: #parameters-8

[24]: #displays

[25]: #listallkitchensystemtransactions

[26]: #parameters-9

[27]: #removetransactionfromkitchensystem

[28]: #parameters-10

[29]: #setlinestateinkitchensystem

[30]: #parameters-11

[31]: #getconfiguration

[32]: #parameters-12

[33]: #savecustomconfiguration

[34]: #parameters-13

[35]: #savewaitingtime

[36]: #parameters-14

[37]: #getwaitingtime

[38]: #parameters-15

[39]: #messages

[40]: #listenall

[41]: #parameters-16

[42]: #examples-1

[43]: #utils

[44]: #getapitype

[45]: #getsoftposversion

[46]: #getsoftposinfo

[47]: #parameters-17

[48]: #log

[49]: #log-1

[50]: #parameters-18

[51]: #examples-2

[52]: #trace

[53]: #parameters-19

[54]: #debug

[55]: #parameters-20

[56]: #info

[57]: #parameters-21

[58]: #warn

[59]: #parameters-22

[60]: #error

[61]: #parameters-23

[62]: #fatal

[63]: #parameters-24

[64]: https://github.com/Soft-Contact/resto/issues/2#placeorder

[65]: https://github.com/Soft-Contact/resto/issues/2#addtoopentable

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[67]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON
